"0","# 1. Calculate proportion of variance explained"
"0","# Get variance components from null model"
"0","var_null <- as.data.frame(VarCorr(null_model))"
"0","between_var_null <- var_null$vcov[1]  # Between-country variance"
"0","within_var_null <- var_null$vcov[2]   # Within-country (residual) variance"
"0",""
"0","# Get variance components from final model (model3)"
"0","var_model3 <- as.data.frame(VarCorr(model3))"
"0","between_var_model3 <- var_model3$vcov[1]  # Between-country variance"
"0","within_var_model3 <- var_model3$vcov[2]   # Within-country (residual) variance"
"0",""
"0","# Calculate proportion of variance explained"
"0","between_var_explained <- (between_var_null - between_var_model3) / between_var_null"
"0","within_var_explained <- (within_var_null - within_var_model3) / within_var_null"
"0","total_var_explained <- 1 - ((between_var_model3 + within_var_model3) / (between_var_null + within_var_null))"
"0",""
"0","cat(""Proportion of between-country variance explained:"", round(between_var_explained * 100, 1), ""%\n"")"
"1","Proportion of between-country variance explained:"
"1"," "
"1","72.5"
"1"," "
"1","%
"
"0","cat(""Proportion of within-country variance explained:"", round(within_var_explained * 100, 1), ""%\n"")"
"1","Proportion of within-country variance explained:"
"1"," "
"1","99.3"
"1"," "
"1","%
"
"0","cat(""Proportion of total variance explained:"", round(total_var_explained * 100, 1), ""%\n"")"
"1","Proportion of total variance explained:"
"1"," "
"1","96.1"
"1"," "
"1","%
"
